<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My App | Shubhzone</title>
    
    <!-- Firebase SDK Scripts (Compat version for onclick handlers) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-storage-compat.js"></script>
    
    <style>
        /* --- थीम वेरिएबल्स --- */
        :root, body[data-theme="default"] { --bg-color: #121212; --page-bg: rgba(0, 0, 0, 0.7); --text-color: #ffffff; --text-muted: #aaa; --header-bg: rgba(25, 25, 25, 0.75); --card-bg: #1e1e1e; --input-bg: #2a2a2a; --border-color: #444; --nav-bg: rgba(31, 31, 31, 0.5); --accent-color: #3f51b5; --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; --shadow-color: rgba(0,0,0,0.5); }
        body[data-theme="hacker"] { --bg-color: #000; --page-bg: rgba(0, 20, 0, 0.7); --text-color: #0f0; --text-muted: #0a0; --header-bg: rgba(0, 30, 0, 0.75); --card-bg: #050505; --input-bg: #111; --border-color: #0f0; --nav-bg: rgba(0, 0, 0, 0.5); --accent-color: #0f0; --font-main: 'Courier New', Courier, monospace; --shadow-color: rgba(0, 255, 0, 0.3); }
        body[data-theme="instagram"] { --bg-color: #fafafa; --page-bg: #ffffff; --text-color: #000000; --text-muted: #8e8e8e; --header-bg: #ffffff; --card-bg: #ffffff; --input-bg: #efefef; --border-color: #dbdbdb; --nav-bg: rgba(255, 255, 255, 0.5); --accent-color: #0095f6; --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; --shadow-color: rgba(0,0,0,0.1); }
        body[data-theme="romantic"] { --bg-color: #2c001e; --page-bg: rgba(44, 0, 30, 0.7); --text-color: #fceded; --text-muted: #ffb8b8; --header-bg: rgba(86, 11, 62, 0.75); --card-bg: #4d002f; --input-bg: #5e003b; --border-color: #e5398d; --nav-bg: rgba(59, 0, 39, 0.5); --accent-color: #ff4d9e; --font-main: 'Georgia', serif; --shadow-color: rgba(229, 57, 141, 0.3); }
        body[data-theme="ocean"] { --bg-color: #0c1f3e; --page-bg: rgba(12, 31, 62, 0.7); --text-color: #e0f7fa; --text-muted: #b3e5fc; --header-bg: rgba(0, 77, 128, 0.75); --card-bg: #003c66; --input-bg: #004c80; --border-color: #4fc3f7; --nav-bg: rgba(0, 43, 77, 0.5); --accent-color: #29b6f6; --font-main: 'Verdana', sans-serif; --shadow-color: rgba(79, 195, 247, 0.3); }
        body[data-theme="forest"] { --bg-color: #1b2e1a; --page-bg: rgba(27, 46, 26, 0.7); --text-color: #e8f5e9; --text-muted: #c8e6c9; --header-bg: rgba(46, 82, 45, 0.75); --card-bg: #274c26; --input-bg: #356834; --border-color: #81c784; --nav-bg: rgba(19, 34, 18, 0.5); --accent-color: #66bb6a; --font-main: 'Tahoma', sans-serif; --shadow-color: rgba(129, 199, 132, 0.3); }

        /* --- बेसिक स्टाइल और रीसेट --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: var(--font-main); }
        body { background-color: var(--bg-color); color: var(--text-color); overflow: hidden; transition: background-color 0.3s, color 0.3s; }
        
        /* --- ऐप कंटेनर और साइड पैनल --- */
        .app-container { display: flex; flex-direction: column; height: 100vh; width: 100vw; }
        .main-content { flex-grow: 1; overflow-y: auto; padding-bottom: 75px; }
        .side-panel { position: fixed; top: 0; left: -45vw; width: 45vw; height: 100%; background-color: var(--nav-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 1001; padding: 20px; transition: left 0.3s ease-in-out; box-shadow: 2px 0 10px var(--shadow-color); display: flex; flex-direction: column;}
        .side-panel.active { left: 0; }
        .panel-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); z-index: 1000; display: none; }
        .panel-overlay.active { display: block; }
        .side-panel-card { background-color: var(--card-bg); border-radius: 12px; padding: 10px; cursor: pointer; border: 1px solid var(--border-color); box-shadow: 0 4px 8px var(--shadow-color); }
        .side-panel-card img { width: 100%; aspect-ratio: 1 / 1; object-fit: cover; border-radius: 8px; }
        
        /* --- पेज मैनेजमेंट --- */
        .page { display: none; padding: 15px; background-color: var(--page-bg); min-height: 100%; animation: fadeIn 0.5s; flex-direction: column; }
        .page.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* --- पेज हेडर --- */
        .page-header { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; margin-bottom: 15px; background-color: var(--header-bg); border-radius: 8px; border: 1px solid var(--border-color); flex-shrink: 0; z-index: 10; }
        .page-header .page-title { font-size: 18px; font-weight: bold; }
        .header-btn { background: none; border: none; color: var(--text-color); font-size: 16px; font-weight: bold; cursor: pointer; padding: 5px 10px; }
        .header-btn.back-icon { font-size: 24px; }
        .header-btn.menu-icon svg { width: 24px; height: 24px; }
        
        /* --- होम पेज लेआउट --- */
        .home-grid-container { display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; padding: 10px 0; }
        .home-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 10px; flex: 1 1 calc(50% - 23px); max-width: calc(50% - 23px); min-width: 150px; transition: transform 0.2s ease, box-shadow 0.2s ease; box-shadow: 0 4px 15px var(--shadow-color); }
        .home-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px var(--shadow-color); }
        .home-card img { width: 100%; aspect-ratio: 1 / 1; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
        .home-card-btn { width: 100%; padding: 10px; font-size: 14px; background: linear-gradient(45deg, var(--accent-color), #8e24aa); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .home-full-width-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 10px; width: 100%; margin-top: 15px; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; box-shadow: 0 4px 15px var(--shadow-color); }
        .home-full-width-card:hover { transform: translateY(-5px); box-shadow: 0 8px 25px var(--shadow-color); }
        .home-full-width-card img { width: 100%; border-radius: 8px; object-fit: cover; }
        
        /* --- बॉटम नेविगेशन बार --- */
        .bottom-nav { position: fixed; bottom: 0; left: 0; width: 100%; height: 60px; background-color: var(--nav-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid var(--border-color); flex-shrink: 0; }
        .nav-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; color: var(--text-muted); font-size: 12px; }
        .nav-icon.active { color: var(--accent-color); font-weight: bold; }
        .nav-icon.active svg { transform: scale(1.1); filter: drop-shadow(0 0 5px var(--accent-color)); }
        .nav-icon svg { width: 24px; height: 24px; margin-bottom: 4px; transition: all 0.2s ease; }
        body[data-theme="default"] #nav-upload-svg { color: #42a5f5; } 
        body[data-theme="default"] #nav-video-svg { color: #ef5350; } 
        body[data-theme="default"] #nav-home-svg { color: #66bb6a; } 
        body[data-theme="default"] #nav-story-svg { color: #ab47bc; } 
        body[data-theme="default"] #nav-profile-svg { color: #ffa726; }
        body:not([data-theme="default"]) .nav-icon:not(.active) svg { color: var(--text-muted); }
        body:not([data-theme="default"]) .nav-icon.active svg { color: var(--accent-color); }

        /* --- स्टोरी पेज स्टाइल --- */
        .story-header { background: rgba(0,0,0,0.3); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); padding: 12px; margin: -15px -15px 20px -15px; text-align: center; font-size: 20px; font-weight: bold; border-bottom: 1px solid var(--border-color); }
        .story-grid-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; width: 100%; }
        .story-card { aspect-ratio: 9 / 16; background-color: var(--card-bg); border-radius: 10px; border: 1px solid var(--border-color); display: flex; justify-content: center; align-items: flex-end; padding: 10px; background-size: cover; background-position: center; position: relative; overflow: hidden; box-shadow: 0 5px 15px var(--shadow-color); transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .story-card:hover { transform: scale(1.05); z-index: 5; box-shadow: 0 10px 25px var(--shadow-color); }
        .story-card::after { content: ''; position: absolute; bottom: 0; left: 0; right: 0; height: 50%; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); }
        .story-card-btn { padding: 6px 15px; font-size: 14px; font-weight: bold; background-color: rgba(255, 255, 255, 0.9); color: #111; border: none; border-radius: 20px; cursor: pointer; z-index: 2; transition: background-color 0.2s; }
        #story-detail-page { padding: 0; }
        #story-detail-page .page-header { background: transparent !important; border: none !important; box-shadow: none !important; position: absolute; top: 0; width: 100%; padding: 15px; margin-bottom: 0; }
        .story-detail-card-wrapper { flex-grow: 1; display: flex; align-items: center; justify-content: center; padding: 15px; height: calc(100vh - 160px); }
        .story-detail-card { width: 100%; max-width: 400px; aspect-ratio: 9 / 16; background-color: var(--card-bg); border-radius: 16px; flex-shrink: 0; box-shadow: 0 10px 30px var(--shadow-color); }
        .story-controls { display: flex; align-items: center; justify-content: center; gap: 30px; padding: 20px 0; height: 100px; flex-shrink: 0; }
        .play-btn { background: linear-gradient(45deg, var(--accent-color), #8e24aa); color: white; border: none; width: 60px; height: 60px; border-radius: 50%; font-size: 28px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 0 20px var(--accent-color); animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 15px var(--accent-color); transform: scale(1); } 50% { box-shadow: 0 0 25px var(--accent-color); transform: scale(1.05); } 100% { box-shadow: 0 0 15px var(--accent-color); transform: scale(1); } }
        .read-option { font-size: 18px; font-weight: bold; cursor: pointer; color: var(--text-muted); transition: color 0.2s; background: var(--input-bg); padding: 10px 20px; border-radius: 25px; border: 1px solid var(--border-color); }
        .read-option:hover { color: var(--text-color); border-color: var(--accent-color); }
        
        /* --- बाकी मूल CSS (अपरिवर्तित) --- */
        .theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .theme-card { background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; padding: 10px; aspect-ratio: 1 / 1; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; transition: transform 0.2s; }
        .theme-card:hover { transform: scale(1.05); }
        .ai-character-card { width: 100%; aspect-ratio: 9 / 16; background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .input-group { margin-bottom: 20px; position: relative; }
        .input-group label { display: block; margin-bottom: 8px; font-size: 14px; color: var(--text-muted); }
        .input-field, .custom-select-wrapper select, textarea.input-field { width: 100%; padding: 12px; background-color: var(--input-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-color); font-size: 16px; }
        .button { display: block; width: 100%; padding: 15px; background: linear-gradient(45deg, var(--accent-color), #8e24aa); color: white; border: none; border-radius: 8px; font-size: 16px; font-weight: bold; text-align: center; cursor: pointer; margin-top: 20px; }
        .theme-card h3 { font-size: 16px; margin-top: 10px; }
        .theme-card .icon-preview { font-size: 40px; }
        .ai-header-btn { text-align: center; cursor: pointer; }
        .ai-header-btn span:first-child { font-size: 24px; }
        .ai-header-btn span:last-child { display: block; font-size: 10px; }
        .ai-character-display { flex-grow: 1; display: flex; align-items: center; justify-content: center; }
        .ai-char-panel { position: fixed; top: 0; right: -50vw; width: 50vw; height: 100%; background-color: var(--nav-bg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); z-index: 1001; padding: 15px; transition: right 0.3s ease-in-out; box-shadow: -2px 0 10px rgba(0,0,0,0.5); overflow-y: auto; }
        .ai-char-panel.active { right: 0; }
        .ai-char-card { aspect-ratio: 9 / 16; background-color: var(--card-bg); border-radius: 8px; margin-bottom: 10px; }
        .video-page-header { display: flex; align-items: center; justify-content: center; gap: 10px; flex-grow: 1; }
        .header-icon-circle { background-color: rgba(255,255,255,0.1); border-radius: 50%; width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; }
        .header-icon-circle svg { width: 20px; height: 20px; color: #ef5350; }
        .search-container { display: flex; gap: 10px; margin-bottom: 20px; }
        .search-container input { flex-grow: 1; padding: 12px; background-color: var(--input-bg); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-color); font-size: 16px; }
        .search-container button { padding: 0 15px; background-color: var(--accent-color); border: none; color: white; border-radius: 8px; cursor: pointer; font-weight: bold; }
        .category-section { margin-bottom: 25px; }
        .category-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
        .horizontal-scroll-wrapper { position: relative; }
        .horizontal-scroll-container { display: flex; overflow-x: auto; scroll-snap-type: x mandatory; gap: 10px; padding: 10px 0; scrollbar-width: none; }
        .horizontal-scroll-container::-webkit-scrollbar { display: none; }
        .scroll-nav-btn { position: absolute; top: 50%; transform: translateY(-50%); background-color: rgba(0,0,0,0.5); color: white; border: none; border-radius: 50%; width: 30px; height: 30px; font-size: 20px; cursor: pointer; z-index: 5; }
        .scroll-nav-btn.left { left: -10px; }
        .scroll-nav-btn.right { right: -10px; }
        .playlist-card-small { flex: 0 0 30%; aspect-ratio: 9/16; background-color: var(--card-bg); border: 1px solid var(--border-color); border-radius: 10px; scroll-snap-align: start; overflow: hidden; }
        .playlist-card-small img { width: 100%; height: 100%; object-fit: cover; }
        .transparent-bar { background-color: rgba(255, 255, 255, 0.1); padding: 10px; text-align: center; border-radius: 8px; margin-bottom: 20px; font-weight: bold; }
        .golden-plate { background: linear-gradient(145deg, #FFD700, #F0C400); color: #333; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .golden-plate h2 { font-size: 22px; font-weight: bold; margin-bottom: 10px; border-bottom: 1px solid rgba(0,0,0,0.2); padding-bottom: 5px; }
        .cost-item { display: flex; justify-content: space-between; margin: 8px 0; font-size: 16px; }
        .total { margin-top: 10px; padding-top: 10px; border-top: 2px solid #333; font-weight: bold; font-size: 20px; display: flex; justify-content: space-between; }
        .small-plate { flex: 0 0 48%; aspect-ratio: 9 / 16; background: #2e2e2e; border-radius: 10px; padding: 15px; scroll-snap-align: start; display: flex; flex-direction: column; justify-content: space-between; color: #fff; }
        .small-plate h3 { color: #FFD700; }
        .info-card { background-color: var(--card-bg); border: 1px solid var(--border-color); padding: 20px; border-radius: 12px; margin-top: 20px; display: flex; flex-direction: column; }
        .language-selector { margin-top: 15px; text-align: center; }
        .lang-btn { background: #444; color: white; border: 1px solid #666; padding: 8px 15px; cursor: pointer; border-radius: 5px; margin: 0 5px;}
        .lang-btn.active { background: var(--accent-color); }
        .guideline-content { background-color: var(--page-bg); padding: 15px; border-radius: 8px; font-size: 14px; line-height: 1.7; overflow-y: auto; flex-grow: 1; }
        .guideline-content h1, .guideline-content h2, .guideline-content h3 { border-bottom: 1px solid var(--border-color); padding-bottom: 5px; color: var(--accent-color);}
        body[data-theme="default"] .guideline-content h1, body[data-theme="default"] .guideline-content h2, body[data-theme="default"] .guideline-content h3 {color: #FFD700;}
        .guideline-content p, .guideline-content li { margin-bottom: 10px; }
        .guideline-content ul { padding-left: 20px; }
        .guideline-content blockquote { border-left: 3px solid var(--accent-color); padding-left: 15px; margin: 10px 0; font-style: italic;}
        .custom-select-wrapper { position: relative; }
        .custom-select-wrapper::after { content: '▼'; font-size: 16px; color: var(--text-muted); position: absolute; right: 15px; top: 50%; transform: translateY(-50%); pointer-events: none; }
        #payment-summary { background-color: var(--card-bg); border: 1px solid var(--border-color); padding: 20px; border-radius: 8px; text-align: center; }
        #calculated-amount { color: #4CAF50; font-size: 32px; font-weight: bold; margin-top: 10px; }
        .upload-card { background-color: var(--input-bg); border: 2px dashed var(--border-color); color: var(--text-muted); border-radius: 12px; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; margin-bottom: 20px; padding: 20px; }
        .upload-card.ratio-16-9 { aspect-ratio: 16 / 9; }
        .upload-card.ratio-9-16 { aspect-ratio: 9 / 16; width: 60%; margin-left: auto; margin-right: auto; }
        .upload-card p { margin-top: 10px; }
        .playlist-options-list { display: none; position: absolute; top: 105%; left: 0; width: 100%; background-color: #333; border: 1px solid #555; border-radius: 8px; max-height: 200px; overflow-y: auto; z-index: 10; }
        .playlist-option { padding: 12px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border-color); }
        .playlist-option:last-child { border-bottom: none; }
        .playlist-option:hover { background-color: #444; }
        .playlist-option .thumb-btn { background-color: var(--accent-color); color: white; border: none; padding: 5px 12px; border-radius: 20px; font-size: 12px; cursor: pointer; font-weight: bold; }
        #custom-playlist-input-group { display: flex; gap: 10px; margin-top: 10px; }
        #custom-playlist-input-group .save-btn { padding: 12px; background: var(--accent-color); color: white; border-radius: 8px; border: none; font-weight: bold; cursor: pointer; }
        .profile-photo-upload { display: flex; gap: 15px; margin-bottom: 20px; }
        .photo-box { flex: 1; aspect-ratio: 1/1; background-color: var(--input-bg); border: 2px dashed var(--border-color); border-radius: 12px; display: flex; align-items: center; justify-content: center; text-align: center; cursor: pointer; }
    </style>
</head>
<body>
    
    <div id="panel-overlay" class="panel-overlay" onclick="closeAllPanels()"></div>
    <div id="side-panel" class="side-panel">
        <div class="side-panel-card" onclick="showPage('theme-page'); closeAllPanels();">
            <img src="https://i.ibb.co/Pvjwsd3q/Leonardo-Phoenix-10-A-hyperrealistic-futuristic-cityscape-set-3.jpg" alt="Change Theme">
        </div>
    </div>
    <div id="ai-char-panel" class="ai-char-panel"></div>

    <div class="app-container">
        <main class="main-content">
            <!-- होम पेज -->
            <div id="home-page" class="page active">
                <div id="home-header" class="page-header">
                    <button class="header-btn menu-icon" onclick="openSidePanel()"><svg viewBox="0 0 24 24" fill="currentColor"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></svg></button>
                    <h2 class="page-title">Home 🏠</h2>
                    <span style="width:44px;"></span>
                </div>
                <div class="home-grid-container">
                    <div class="home-card"><img src="https://i.ibb.co/HTjy6Cjd/Leonardo-Phoenix-10-A-young-girl-sitting-in-a-cozy-dimly-lit-r-0.jpg" alt="AI Friend"><button class="home-card-btn" onclick="showPage('ai-friend-page')">AI Friend</button></div>
                    <div class="home-card"><img src="https://i.ibb.co/Q3ZP5KzD/Fum-D-gyl-TImey-U43-n-Q4eg.webp" alt="Upgrade"><button class="home-card-btn" onclick="showPage('upload-page-1')">Update</button></div>
                </div>
                <div class="home-full-width-card" onclick="showPage('guideline-page')"><img src="https://i.ibb.co/0pZX9Yyq/IMG-20250708-134304.jpg" alt="Guidelines"></div>
            </div>

            <!-- AI Friend पेज -->
            <div id="ai-friend-page" class="page">
                 <div class="page-header">
                    <button class="header-btn back-icon" onclick="showPage('home-page')">←</button>
                    <h2 class="page-title">Your AI Friend</h2>
                    <div class="ai-header-btn" onclick="toggleAiCharacterPanel()"><span>🦾</span><span>More AI</span></div>
                </div>
                <div class="ai-character-display"><div class="ai-character-card">AI Character Display</div></div>
            </div>
            
            <!-- थीम चेंजर पेज -->
            <div id="theme-page" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('home-page')">←</button><h2 class="page-title">Themes 🎨</h2><span></span></div>
                <div class="theme-grid">
                    <div class="theme-card" onclick="applyTheme('default')"><div class="icon-preview">🌙</div><h3>Default Dark</h3></div>
                    <div class="theme-card" onclick="applyTheme('hacker')"><div class="icon-preview">💻</div><h3>Hacker Theme</h3></div>
                    <div class="theme-card" onclick="applyTheme('instagram')"><div class="icon-preview">☀️</div><h3>Instagram Feel</h3></div>
                    <div class="theme-card" onclick="applyTheme('romantic')"><div class="icon-preview">💖</div><h3>Romantic Red</h3></div>
                    <div class="theme-card" onclick="applyTheme('ocean')"><div class="icon-preview">🌊</div><h3>Ocean Blue</h3></div>
                    <div class="theme-card" onclick="applyTheme('forest')"><div class="icon-preview">🌲</div><h3>Forest Green</h3></div>
                </div>
            </div>

            <!-- वीडियो पेज -->
            <div id="video-page" class="page">
                 <div class="page-header"><div class="video-page-header"><div class="header-icon-circle"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M0 12V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm6.79-6.907A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"/></svg></div><h2 class="page-title">Videos</h2></div></div>
                <div class="search-container"><input type="text" placeholder="Search videos or playlists..."><button>Search</button></div>
                <div id="video-page-content" style="flex-grow: 1; overflow-y: auto;"></div>
            </div>

            <!-- स्टोरी पेज -->
            <div id="story-page" class="page">
                <div class="story-header">
                    Story 📖
                </div>
                <div class="story-grid-container" id="story-grid">
                    <!-- Stories will be loaded here by JavaScript -->
                </div>
            </div>

            <!-- स्टोरी डिटेल पेज -->
            <div id="story-detail-page" class="page">
                <div class="page-header">
                    <button class="header-btn back-icon" onclick="showPage('story-page')">←</button>
                    <!-- This header is transparent and acts as an overlay -->
                    <span></span><span></span>
                </div>
                <div class="story-detail-card-wrapper">
                    <div id="story-detail-card" class="story-detail-card" style="background-size: cover; background-position: center;"></div>
                </div>
                <div class="story-controls">
                    <button id="story-play-btn" class="play-btn" onclick="toggleStoryAudio()">▶️</button>
                    <span class="read-option" onclick="alert('Read feature coming soon!')">Read</span>
                </div>
                <audio id="story-audio" preload="auto"></audio>
            </div>

            <!-- प्रोफाइल पेज -->
            <div id="profile-page" class="page">
                <div class="page-header"><h2 class="page-title">Your Profile 🖋️</h2></div>
                <div class="input-group"><label>Full Name</label><input type="text" class="input-field" placeholder="Enter your full name"></div>
                <div class="input-group"><label>Primary Mobile</label><input type="tel" class="input-field" placeholder="Enter your mobile number"></div>
                <div class="input-group"><label>Secondary Mobile (Optional)</label><input type="tel" class="input-field" placeholder="Enter another mobile number"></div>
                <label>Photos</label>
                <div class="profile-photo-upload">
                    <div class="photo-box"><p>Profile<br>Photo</p></div>
                    <div class="photo-box"><p>Cover<br>Photo</p></div>
                </div>
                <div class="input-group"><label>ID Proof (e.g., Aadhar)</label><div class="upload-card" style="aspect-ratio: 16/10; padding:10px;"><p>Upload ID Document</p></div></div>
                <div class="input-group"><label>Address</label><textarea class="input-field" rows="3" placeholder="Enter your full address"></textarea></div>
                <button class="button">Approve</button>
            </div>

            <!-- अपलोड पेज 1 -->
            <div id="upload-page-1" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('home-page')">←</button><h2 class="page-title">Plan</h2><button class="header-btn" onclick="showPage('upload-page-2')">Skip</button></div>
                <div class="transparent-bar">Please read carefully</div>
                <div class="golden-plate"><h2>Investment (Per 20 min video)</h2><div class="cost-item"><span>Storage cost per year:</span> <span>100 Rs</span></div><div class="cost-item"><span>As a member of my app:</span> <span>(-50 Rs)</span></div><div class="cost-item"><span>As a support:</span> <span>(-10 Rs)</span></div><div class="total"><span>Total:</span><span>40 Rs</span></div></div>
                <div class="golden-plate"><h2>Return of Investment</h2><div class="cost-item"><span>1000 Views:</span> <span>4500 Rs</span></div><p style="text-align: center; margin-top: 10px; font-weight: bold;">for your video</p></div>
                <div class="horizontal-scroll-wrapper"><button class="scroll-nav-btn left" onclick="scrollContent(this, -150)">←</button><div class="horizontal-scroll-container"><div class="small-plate"><h3>Bonus: 200 Rs</h3><p>"Reached 1,000 within 12 months."</p><div class="bonus-total">Total: 4700 Rs</div></div><div class="small-plate"><h3>Bonus: 500 Rs</h3><p>"Reached 1,000 within 11 months."</p><div class="bonus-total">Total: 5000 Rs</div></div><div class="small-plate"><h3>Bonus: 700 Rs</h3><p>"Reached 1,000 within 10 months."</p><div class="bonus-total">Total: 5200 Rs</div></div><div class="small-plate"><h3>Bonus: 900 Rs</h3><p>"Reached 1,000 within 5 months."</p><div class="bonus-total">Total: 5400 Rs</div></div><div class="small-plate"><h3>Bonus: 1000 Rs</h3><p>"Reached 1,000 within 4 months."</p><div class="bonus-total">Total: 5500 Rs</div></div><div class="small-plate"><h3>Bonus: 1500 Rs</h3><p>"Reached 1,000 within 3 months."</p><div class="bonus-total">Total: 6000 Rs</div></div><div class="small-plate"><h3>Bonus: 2000 Rs</h3><p>"Reached 1,000 within 1 month."</p><div class="bonus-total">Total: 6500 Rs</div></div><div class="small-plate"><h3>Bonus: 3500 Rs</h3><p>"Reached 1,000 within 10 days."</p><div class="bonus-total">Total: 8000 Rs</div></div></div><button class="scroll-nav-btn right" onclick="scrollContent(this, 150)">→</button></div>
                <div class="info-card"><div class="info-card-header">⭐ Important Information</div><div class="info-card-text" id="info-text-container"></div></div>
                <div class="language-selector"><button id="lang-hi" class="lang-btn active" onclick="changeLanguage('hi')">हिन्दी</button><button id="lang-en" class="lang-btn" onclick="changeLanguage('en')">English</button></div>
                <button class="button" onclick="showPage('upload-page-2')">OK</button>
            </div>

            <!-- अपलोड पेज 2 -->
            <div id="upload-page-2" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('upload-page-1')">←</button><h2 class="page-title">Payment 🪙</h2><button class="header-btn" onclick="showPage('upload-page-3')">Skip</button></div>
                <h2>Calculate Your Cost</h2>
                <div class="input-group"><label for="video-duration">Video Duration (in minutes)</label><input type="number" id="video-duration" class="input-field" placeholder="For every 20 min block, Rs 40 will be charged."></div>
                <div class="input-group"><label for="video-size">Video Size (in MB)</label><input type="number" id="video-size" class="input-field" placeholder="Ideal size for 20min is 720MB. +Re 1 per 100MB over."></div>
                <div id="payment-summary"><p>Total Payment Required</p><div id="calculated-amount">₹ 0</div></div>
                <button class="button" onclick="processPayment()">Pay with Razorpay</button>
            </div>
            
            <!-- अपलोड पेज 3 -->
            <div id="upload-page-3" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('upload-page-2')">←</button><h2 class="page-title">Upload Video 📱</h2><button class="header-btn" onclick="showPage('home-page')">Skip</button></div>
                <div class="input-group"><label for="video-name">Video Name</label><input type="text" id="video-name" class="input-field" placeholder="Enter video title"></div>
                <div class="input-group"><label>Audience</label><div class="radio-group"><label><input type="radio" name="audience" value="all" checked> For All Audiences</label><label><input type="radio" name="audience" value="18+"> For 18+ Only</label></div></div>
                <div class="input-group"><label>Playlist</label><div class="custom-select-wrapper"><div class="playlist-selected-value" onclick="togglePlaylistOptions()"><span id="selected-playlist-name">Select a playlist</span></div><div class="playlist-options-list" id="playlist-options"></div></div><div id="custom-playlist-input-group" style="display:none;"><input type="text" id="custom-playlist-input" class="input-field" placeholder="Enter new playlist name..."><button class="save-btn" onclick="saveCustomPlaylist()">Save</button></div></div>
                <div class="input-group"><label for="video-category">Category</label><div class="custom-select-wrapper"><select id="video-category" class="input-field"><option>Select a category</option></select></div></div>
                <label>Video Thumbnail (16:9)</label><input type="file" id="thumbnail-file-input" style="display: none;" accept="image/*"><div class="upload-card ratio-16-9" onclick="document.getElementById('thumbnail-file-input').click()"><p>Click to upload</p></div>
                <label>Video File</label><input type="file" id="video-file-input" style="display: none;" accept="video/*"><div class="upload-card ratio-16-9" onclick="document.getElementById('video-file-input').click()"><p>Click to upload</p></div>
                <div class="input-group"><label>Uploader Name</label><input type="text" class="input-field" placeholder="Enter your name"></div>
                <button class="button" onclick="alert('Video Uploaded Successfully!'); showPage('home-page');">Upload</button>
            </div>

            <!-- प्लेलिस्ट थंबनेल पेज -->
            <div id="playlist-thumb-page" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('upload-page-3')">←</button><h2 class="page-title">Thumbnail</h2><button class="header-btn" onclick="savePlaylistThumbnail()">Save</button></div>
                <p style="text-align:center; margin-bottom: 20px;">Upload a new thumbnail for your playlist.</p><input type="file" id="playlist-thumbnail-input" style="display:none" accept="image/*">
                <div class="upload-card ratio-9-16" onclick="document.getElementById('playlist-thumbnail-input').click()"><p>Click to Upload</p></div>
            </div>

            <!-- गाइडलाइन पेज -->
            <div id="guideline-page" class="page">
                <div class="page-header"><button class="header-btn back-icon" onclick="showPage('home-page')">←</button><h2 class="page-title">Guideline 📚</h2><div class="language-selector"><button id="guideline-lang-hi" class="lang-btn active" onclick="changeGuidelineLanguage('hi')">हिन्दी</button><button id="guideline-lang-en" class="lang-btn" onclick="changeGuidelineLanguage('en')">English</button></div></div>
                <div class="guideline-content" id="guideline-content-container"></div>
            </div>

        </main>
        
        <nav class="bottom-nav">
            <div id="nav-upload" class="nav-icon" onclick="showPage('upload-page-1')"><svg id="nav-upload-svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"/><path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708l3-3z"/></svg><span>Upload</span></div>
            <div id="nav-video" class="nav-icon" onclick="showPage('video-page')"><svg id="nav-video-svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M0 12V4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm6.79-6.907A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"/></svg><span>Video</span></div>
            <div id="nav-home" class="nav-icon active" onclick="showPage('home-page')"><svg id="nav-home-svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z"/></svg><span>Home</span></div>
            <div id="nav-story" class="nav-icon" onclick="showPage('story-page')"><svg id="nav-story-svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M4.5 2a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0V2.5a.5.5 0 0 1 .5-.5z"/><path d="M11.293 1.293a1 1 0 0 1 1.414 0l2 2a1 1 0 0 1 0 1.414l-2 2a1 1 0 0 1-1.414-1.414L12.586 5H5.5a.5.5 0 0 1 0-1h7.086L11.293 2.707a1 1 0 0 1 0-1.414zM2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h5a.5.5 0 0 1 0 1H2a3 3 0 0 1-3-3V3a3 3 0 0 1 3-3h5a.5.5 0 0 1 0 1H2z"/></svg><span>Story</span></div>
            <div id="nav-profile" class="nav-icon" onclick="showPage('profile-page')"><svg id="nav-profile-svg" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/></svg><span>Profile</span></div>
        </nav>
    </div>

    <script type="module">
        // --- Firebase का सेटअप ---
        const firebaseConfig = {
          apiKey: "AIzaSyDuvWTMJL5edNG6cheez5pmwI2KlLCwtjw",
          authDomain: "shubhzone-4a6b0.firebaseapp.com",
          databaseURL: "https://shubhzone-4a6b0-default-rtdb.firebaseio.com",
          projectId: "shubhzone-4a6b0",
          storageBucket: "shubhzone-4a6b0.appspot.com",
          messagingSenderId: "439309269785",
          appId: "1:439309269785:web:08a1256812648daafea388",
          measurementId: "G-5S0VFF21SB"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const analytics = firebase.analytics();
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
        
        console.log("Firebase Initialized Successfully");
        
        // --- DOM एलिमेंट्स ---
        const pages = document.querySelectorAll('.page');
        const navIcons = document.querySelectorAll('.nav-icon');
        const sidePanel = document.getElementById('side-panel');
        const aiCharPanel = document.getElementById('ai-char-panel');
        const panelOverlay = document.getElementById('panel-overlay');
        const infoTextContainer = document.getElementById('info-text-container');
        const guidelineContentContainer = document.getElementById('guideline-content-container');
        const videoPageContent = document.getElementById('video-page-content');
        const categorySelect = document.getElementById('video-category');
        const playlistOptionsContainer = document.getElementById('playlist-options');
        const storyGrid = document.getElementById('story-grid');
        const storyDetailCard = document.getElementById('story-detail-card');
        const storyAudio = document.getElementById('story-audio');
        const storyPlayBtn = document.getElementById('story-play-btn');

        // --- डेटा (पूर्ण कंटेंट के साथ) ---
        let userPlaylists = [ { id: 1, name: "Goa Trip", thumb: "https://i.ibb.co/680xQ8r/vlog-thumb.jpg", category: "Vlogs" }, { id: 7, name: "Manali Vlog", thumb: "https://i.ibb.co/yBNgC39/gaming-thumb.jpg", category: "Vlogs"}, { id: 8, name: "Mumbai Streets", thumb: "https://i.ibb.co/3sS7jDB/tech-thumb.jpg", category: "Vlogs"}, { id: 9, name: "Kerala Backwaters", thumb: "https://i.ibb.co/kHnZysV/cook-thumb.jpg", category: "Vlogs"}, { id: 10, name: "Rajasthan Forts", thumb: "https://i.ibb.co/JqT2S9b/comedy-thumb.jpg", category: "Vlogs"}, { id: 2, name: "Unboxing", thumb: "https://i.ibb.co/3sS7jDB/tech-thumb.jpg", category: "Tech" }, { id: 3, name: "Cooking", thumb: "https://i.ibb.co/kHnZysV/cook-thumb.jpg", category: "Lifestyle" }, {id: 4, name: "Gameplay", thumb: "https://i.ibb.co/yBNgC39/gaming-thumb.jpg", category: "Gaming"}, {id: 5, name: "Stand Up", thumb: "https://i.ibb.co/JqT2S9b/comedy-thumb.jpg", category: "Comedy"}, {id: 6, name: "New Songs", thumb: "https://i.ibb.co/z5N0dYv/music-thumb.jpg", category: "Music"} ];
        const categories = ["Vlogs", "Tech", "Lifestyle", "Gaming", "Comedy", "Music", "Education", "Science", "Movies", "News"];
        const dummyStories = [
            { id: '1', title: 'Story 1', imageUrl: 'https://i.ibb.co/6H8m9rJ/story1.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3' },
            { id: '2', title: 'Story 2', imageUrl: 'https://i.ibb.co/N1F28d2/story2.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3' },
            { id: '3', title: 'Story 3', imageUrl: 'https://i.ibb.co/HTjy6Cjd/Leonardo-Phoenix-10-A-young-girl-sitting-in-a-cozy-dimly-lit-r-0.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3' },
            { id: '4', title: 'Story 4', imageUrl: 'https://i.ibb.co/Q3ZP5KzD/Fum-D-gyl-TImey-U43-n-Q4eg.webp', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3' },
            { id: '5', title: 'Story 5', imageUrl: 'https://i.ibb.co/3sS7jDB/tech-thumb.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3' },
            { id: '6', title: 'Story 6', imageUrl: 'https://i.ibb.co/kHnZysV/cook-thumb.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3' },
            { id: '7', title: 'Story 7', imageUrl: 'https://i.ibb.co/JqT2S9b/comedy-thumb.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3' },
            { id: '8', title: 'Story 8', imageUrl: 'https://i.ibb.co/z5N0dYv/music-thumb.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3' },
            { id: '9', title: 'Story 9', imageUrl: 'https://i.ibb.co/680xQ8r/vlog-thumb.jpg', audioUrl: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3' },
        ];
        const textContent = { 
            hi: `गणना को आपके लिए आसान बनाने के लिए, हम भुगतान हर 100, 1,000 या 10,000 व्यूज़ के आधार पर करेंगे — ताकि आपको हर एक व्यू की गिनती या हिसाब रखने की चिंता न करनी पड़े।<br><br>आप जब चाहें, भुगतान का अनुरोध कर सकते हैं — चाहे आपके कुल व्यूज़ 1,758 ही क्यों न हों, क्योंकि आपकी मेहनत हमारे लिए मायने रखती है।<br><br>यह मंच आपकी कड़ी मेहनत की सच्चे दिल से सराहना करता है और इसे पूरी तरह से आपकी सुविधा और संतुष्टि को ध्यान में रखते हुए बनाया गया है। हमने इस प्रणाली को सरल, पारदर्शी और लचीला बनाया है — ताकि आप निश्चिंत होकर सिर्फ़ अपने कंटेंट पर ध्यान दें, बाक़ी सब हम संभाल लेंगे। हम हमेशा आपके साथ हैं।`, 
            en: `To make calculations easier for you, we will process payments based on every 100, 1,000, or 10,000 views — so you don't have to worry about counting or keeping track of every single view.<br><br>You can request a payout whenever you want — even if your total views are just 1,758, because your hard work matters to us.<br><br>This platform genuinely appreciates your hard work and is designed with your complete convenience and satisfaction in mind. We have made this system simple, transparent, and flexible — so you can focus on your content without any worries, and we will handle the rest. We are always with you.` 
        };
        const guidelineTexts = { 
            hi: `<h1>📜 Shubhzone ऐप उपयोग एवं कंटेंट नीति</h1><p>📱 ऐप का नाम: Shubhzone<br>📧 संपर्क: udbhavscience12@gmail.com<br>🔞 वयस्क (Adult) कंटेंट केवल 18+ उपयोगकर्ताओं के लिए उपलब्ध है</p><hr><h2>🔰 1. ऐप का उद्देश्य (App Purpose)</h2><p>Shubhzone एक मनोरंजन ऐप है, जो उपयोगकर्ताओं को भावनात्मक, रोमांटिक और कल्पनात्मक कहानियाँ, वीडियो, ऑडियो और चैट स्टोरीज़ जैसे कंटेंट उपलब्ध कराता है। यह ऐप विशेष रूप से प्रीमियम उपयोगकर्ताओं के लिए तैयार किया गया है, और इसमें मौजूद वयस्क (Adult) कंटेंट केवल 18 वर्ष या उससे अधिक आयु वाले उपयोगकर्ताओं के लिए ही अनुमत है।</p><hr><h2>👤 2. सभी उपयोगकर्ताओं के लिए नियम (General Users)</h2><h3>✅ क्या करें (Allowed):</h3><ul><li>ऐप का प्रयोग मनोरंजन और निजी उपयोग हेतु करें।</li><li>अपनी उम्र की पुष्टि (Age Confirmation) ईमानदारी से करें।</li><li>किसी भी कंटेंट को देखकर असहज लगने पर उसे रिपोर्ट करें।</li><li>किसी अन्य व्यक्ति के प्रति अपमानजनक भाषा का प्रयोग न करें।</li></ul><h3>❌ क्या न करें (Forbidden):</h3><ul><li>अभद्र भाषा, गाली-गलौज, जातीय या धार्मिक टिप्पणी ❌</li><li>किसी अन्य उपयोगकर्ता को परेशान करना, धमकाना ❌</li><li>किसी भी प्रकार की अश्लील या पोर्नोग्राफिक सामग्री साझा करना ❌</li><li>ऐप के कंटेंट को बिना अनुमति किसी अन्य जगह अपलोड करना ❌</li></ul><hr><h2>🔞 3. 18+ कंटेंट (केवल वयस्क उपयोगकर्ताओं हेतु)</h2><p>Shubhzone ऐप में मौजूद वयस्क कंटेंट केवल उन उपयोगकर्ताओं को दिखाया जाता है जो 18 वर्ष या उससे अधिक आयु के हैं और ऐप में Age Confirmation और प्रीमियम सदस्यता प्रक्रिया पूरी कर चुके हैं।</p><h3>🟢 अनुमत कंटेंट (Allowed for 18+):</h3><ul><li>✔️ रोमांटिक और कल्पनात्मक लघु फिल्में</li><li>✔️ इशारों में रोमांस वाले दृश्य (Suggestive only)</li><li>✔️ सेंसुअल वॉइस स्टोरीज़ / चैट आधारित स्टोरीज़</li><li>✔️ रिलेशनशिप आधारित भावनात्मक नाटक</li><li>✔️ बोल्ड लेकिन मर्यादित डायलॉग्स</li><li>✔️ ग्लैमरस ड्रेस-अप, लेकिन अश्लीलता नहीं</li></ul><h3>🔴 निषिद्ध कंटेंट (Strictly Forbidden):</h3><ul><li>⛔ नग्नता (पूर्ण या आंशिक)</li><li>⛔ कोई भी यौन क्रिया या उसका स्पष्ट प्रदर्शन</li><li>⛔ सेक्स साउंड्स, मूनिंग, या भद्दी आवाज़ें</li><li>⛔ 18 वर्ष से कम पात्रों का उपयोग या संदर्भ</li><li>⛔ गैरकानूनी, कॉपीराइट या चोरी किया गया कंटेंट</li><li>⛔ अश्लील थंबनेल या पोस्टर</li><li>⛔ किसी अन्य पोर्न वेबसाइट या लिंक का प्रचार</li></ul><hr><h2>🧑‍🎨 4. कंटेंट क्रिएटर्स के लिए निर्देश</h2><ul><li>केवल अपना स्वतः निर्मित कंटेंट अपलोड करें।</li><li>कंटेंट में कोई भी यौन स्पष्टता या नग्नता नहीं होनी चाहिए।</li><li>“यह एक काल्पनिक रचना है, मनोरंजन हेतु” – ऐसा डिस्क्लेमर ज़रूर लगाएं।</li><li>थंबनेल और विज़ुअल्स साफ, गरिमामय और नियमों के अनुसार हों।</li><li>किसी भी बाहरी लिंक, पोर्न साइट या वल्गर रेफरेंस से बचें।</li></ul><hr><h2>🛡️ 5. ऐप सुरक्षा और गोपनीयता नीति</h2><p>सभी उपयोगकर्ताओं की जानकारी सुरक्षित रखी जाती है। ऐप में किया गया व्यवहार मॉनिटर किया जा सकता है। कोई भी नियम उल्लंघन होने पर कंटेंट हटाया जा सकता है या अकाउंट बंद किया जा सकता है।</p><hr><h2>📢 6. रिपोर्ट व सहायता (Support)</h2><p>यदि आपको कोई आपत्तिजनक कंटेंट, उपयोगकर्ता या व्यवहार दिखाई देता है तो:</p><ul><li>📩 ईमेल करें: udbhavscience12@gmail.com</li><li>📍 रिपोर्ट बटन का प्रयोग करें (वीडियो या चैट के नीचे)</li><li>🕒 हमारी टीम 24 से 48 घंटे के भीतर कार्रवाई करेगी</li></ul><hr><h2>📘 7. अस्वीकरण (Disclaimer)</h2><blockquote>Shubhzone ऐप में प्रदर्शित सभी कहानियाँ, पात्र और दृश्य पूर्णतः काल्पनिक हैं। इनका उद्देश्य केवल मनोरंजन है। यह ऐप कोई भी पोर्नोग्राफ़ी या अश्लीलता को समर्थन नहीं देता। सभी उपयोगकर्ताओं से अपेक्षा की जाती है कि वे नियमों का पालन करें और एक स्वस्थ डिजिटल अनुभव बनाए रखें।</blockquote><hr><h2>✔️ 8. उपयोगकर्ता की सहमति (User Consent)</h2><p>✅ Shubhzone ऐप का उपयोग करने का अर्थ है कि आपने उपरोक्त सभी नियमों को पढ़ा, समझा और स्वीकार किया है।</p>`, 
            en: `<h1>📜 Shubhzone – App Usage & Content Policy</h1><p>📱 App Name: Shubhzone<br>📧 Contact: udbhavscience12@gmail.com<br>🔞 Adult content is strictly for users aged 18 and above</p><hr><h2>🔰 1. Purpose of the App</h2><p>Shubhzone is an entertainment-focused platform offering users emotional, romantic, fictional stories, videos, audio content, and chat-based storytelling. The app is designed specifically for premium members, with adult content strictly restricted to users aged 18 years or older.</p><hr><h2>👤 2. General Guidelines (All Users)</h2><h3>✅ What is Allowed:</h3><ul><li>Use the app only for personal entertainment purposes.</li><li>Provide honest age confirmation during sign-up or content access.</li><li>Report any uncomfortable or suspicious content using the "Report" button.</li><li>Maintain respectful and appropriate behavior at all times.</li></ul><h3>❌ What is Not Allowed:</h3><ul><li>Use of vulgar language, hate speech, or abusive comments ❌</li><li>Harassment, threats, or intimidation of any kind ❌</li><li>Uploading or sharing any pornographic or explicit content ❌</li><li>Republishing app content without permission ❌</li></ul><hr><h2>🔞 3. 18+ Content (Premium Zone Guidelines)</h2><p>Adult content on Shubhzone is accessible only to verified users aged 18+ who have either completed age verification and subscribed to a premium membership.</p><h3>🟢 Permitted 18+ Content:</h3><ul><li>✔️ Romantic and fictional short films</li><li>✔️ Suggestive/implied intimacy (no nudity or sexual activity)</li><li>✔️ Sensual voice/audio stories</li><li>✔️ Chat-based adult fiction (without vulgarity)</li><li>✔️ Emotion-driven relationship drama</li><li>✔️ Bold themes with respectful dialogues</li><li>✔️ Glamorous looks, dress-ups (non-explicit)</li></ul><h3>🔴 Prohibited Content (Even in Premium Zone):</h3><ul><li>⛔ Any form of nudity (partial or full)</li><li>⛔ Sexual activity or pornographic scenes</li><li>⛔ Moaning sounds or obscene sexual audio</li><li>⛔ Minors (under 18) involved in any adult setup</li><li>⛔ Copied, stolen, or copyrighted content</li><li>⛔ Vulgar thumbnails, posters, or banners</li><li>⛔ Redirecting to external pornographic websites or apps</li></ul><hr><h2>🧑‍🎨 4. Guidelines for Content Creators</h2><p>If you're creating or uploading content for Shubhzone, follow these mandatory rules:</p><ul><li>Only original content that you own or have full rights to.</li><li>No direct nudity or sexual visuals in your content.</li><li>Always include a disclaimer like: <blockquote>"This is a work of fiction, meant only for entertainment."</blockquote></li><li>Ensure thumbnails and visuals are safe, clean, and within guidelines.</li><li>Do not link or refer to any external porn or adult website.</li></ul><hr><h2>🛡️ 5. Safety & Privacy Policy</h2><p>All user data is stored securely. User behavior may be moderated and monitored. In case of a violation, content may be removed or the account suspended.</p><hr><h2>📢 6. Reporting & Support</h2><p>If you come across any inappropriate content or user behavior:</p><ul><li>📩 Email Us: udbhavscience12@gmail.com</li><li>📍 Use the "Report" button below the content or profile</li><li>🕒 Our moderation team reviews and takes action within 24–48 hours</li></ul><hr><h2>📘 7. Disclaimer</h2><blockquote>All characters, stories, and visuals shown in the Shubhzone app are fictional and purely for entertainment purposes. This app does not promote pornography or obscene content of any kind. Users are expected to behave responsibly and within legal & community guidelines.</blockquote><hr><h2>✔️ 8. User Agreement</h2><p>✅ By using the Shubhzone app, you confirm that: You are above 18 years of age (for accessing premium content) and you have read, understood, and agree to the content policy above.</p>`
        };

        // --- Firebase से डेटा प्राप्त करने वाले फंक्शन ---
        async function fetchStories() {
            try {
                // For now, we use dummy data. Replace with Firebase fetch when ready.
                // const snapshot = await db.collection('stories').get();
                // if (snapshot.empty) {
                //     console.log('No stories found, using dummy data.');
                //     return dummyStories; 
                // }
                // return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                console.log('Using dummy stories for demonstration.');
                return Promise.resolve(dummyStories);
            } catch (error) {
                console.error("Error fetching stories: ", error);
                return dummyStories; // Fallback to dummy data on error
            }
        }
        
        // --- फंक्शन्स को window ऑब्जेक्ट पर अटैच करें ताकि onclick काम करे ---
        window.openSidePanel = () => { sidePanel.classList.add('active'); panelOverlay.classList.add('active'); };
        window.closeAllPanels = () => { sidePanel.classList.remove('active'); panelOverlay.classList.remove('active'); aiCharPanel.classList.remove('active'); };
        window.toggleAiCharacterPanel = () => { aiCharPanel.classList.toggle('active'); panelOverlay.classList.add('active'); };
        window.applyTheme = (themeName) => { document.body.setAttribute('data-theme', themeName); localStorage.setItem('appTheme', themeName); };

        window.showPage = (pageId) => {
            const storyDetailPage = document.getElementById('story-detail-page');
            // If we are navigating away from the story detail page, stop the audio.
            if (storyDetailPage.classList.contains('active') && pageId !== 'story-detail-page') {
                if (storyAudio && !storyAudio.paused) {
                    storyAudio.pause();
                    storyAudio.currentTime = 0;
                    storyPlayBtn.textContent = '▶️';
                }
            }

            pages.forEach(page => page.classList.remove('active'));
            const targetPage = document.getElementById(pageId);
            if (targetPage) targetPage.classList.add('active');
            
            let navId = `nav-${pageId.split('-')[0]}`;
            if (pageId.startsWith('upload')) navId = 'nav-upload';
            if (pageId.startsWith('guideline') || pageId.startsWith('theme') || pageId.startsWith('ai-friend')) navId = 'nav-home';
            if (pageId.startsWith('story')) navId = 'nav-story';
            navIcons.forEach(icon => icon.classList.remove('active'));
            const activeNav = document.getElementById(navId);
            if (activeNav) activeNav.classList.add('active');
            
            if(pageId === 'video-page') window.populateVideoPage();
            if(pageId === 'story-page' && (storyGrid.innerHTML.trim() === '' || storyGrid.innerHTML.includes('<!--'))) {
                fetchStories().then(window.populateStoryGrid);
            }
        };

        window.populateStoryGrid = (stories) => {
            storyGrid.innerHTML = ''; // Clear existing stories
            if (!stories || stories.length === 0) {
                storyGrid.innerHTML = '<p>No stories available right now.</p>';
                return;
            }
            stories.forEach(story => {
                const card = document.createElement('div');
                card.className = 'story-card';
                card.style.backgroundImage = `url('${story.imageUrl}')`;
                
                const button = document.createElement('button');
                button.className = 'story-card-btn';
                button.textContent = 'Open';
                button.onclick = () => window.openStoryDetail(story);
                
                card.appendChild(button);
                storyGrid.appendChild(card);
            });
        };

        window.populateVideoPage = () => {
            videoPageContent.innerHTML = '';
            categories.forEach(category => {
                const playlistsInCategory = userPlaylists.filter(p => p.category === category);
                if (playlistsInCategory.length > 0) {
                    const section = document.createElement('div');
                    section.className = 'category-section';
                    let playlistHTML = '';
                    playlistsInCategory.forEach(pl => {
                        playlistHTML += `<div class="playlist-card-small"><img src="${pl.thumb}" alt="${pl.name}"></div>`;
                    });
                    section.innerHTML = `<h3 class="category-title">${category}</h3><div class="horizontal-scroll-wrapper"><button class="scroll-nav-btn left" onclick="scrollContent(this, -150)">←</button><div class="horizontal-scroll-container">${playlistHTML}</div><button class="scroll-nav-btn right" onclick="scrollContent(this, 150)">→</button></div>`;
                    videoPageContent.appendChild(section);
                }
            });
        };
        
        window.scrollContent = (button, amount) => {
            const container = button.parentElement.querySelector('.horizontal-scroll-container');
            container.scrollBy({ left: amount, behavior: 'smooth' });
        };

        window.openStoryDetail = (story) => {
            storyDetailCard.style.backgroundImage = `url('${story.imageUrl}')`;
            storyAudio.src = story.audioUrl;
            storyPlayBtn.textContent = '▶️'; // Reset button state
            storyAudio.load(); // Preload audio for faster playback
            window.showPage('story-detail-page');
        };

        window.toggleStoryAudio = () => {
            if (storyAudio.paused) {
                storyAudio.play().catch(e => console.error("Audio play failed:", e));
                storyPlayBtn.textContent = '⏸️';
            } else {
                storyAudio.pause();
                storyPlayBtn.textContent = '▶️';
            }
        };
        
        window.calculatePayment = () => {
            const duration = parseFloat(document.getElementById('video-duration').value) || 0;
            const size = parseFloat(document.getElementById('video-size').value) || 0;
            let cost = 0;
            if (duration > 0) {
                cost += Math.ceil(duration / 20) * 40;
            }
            if (size > 720) {
                const extraSize = size - 720;
                cost += Math.ceil(extraSize / 100);
            }
            document.getElementById('calculated-amount').textContent = `₹ ${cost}`;
        };

        window.populateAiCharPanel = () => { aiCharPanel.innerHTML = '<h4>Select Character</h4><hr style="margin: 10px 0; border-color: var(--border-color);">'; for(let i=0; i<10; i++) { const card = document.createElement('div'); card.className = 'ai-char-card'; aiCharPanel.appendChild(card); } };
        window.changeLanguage = (lang) => { if(infoTextContainer) infoTextContainer.innerHTML = textContent[lang] || ''; };
        window.changeGuidelineLanguage = (lang) => { if(guidelineContentContainer) guidelineContentContainer.innerHTML = guidelineTexts[lang] || ''; document.getElementById('guideline-lang-hi').classList.toggle('active', lang === 'hi'); document.getElementById('guideline-lang-en').classList.toggle('active', lang === 'en'); };
        window.processPayment = () => { alert("Redirecting to Razorpay... (Simulation)"); window.showPage('upload-page-3'); };
        
        window.populateCategoryDropdown = () => { categorySelect.innerHTML = '<option disabled selected>Select a category</option>'; categories.forEach(cat => { const option = document.createElement('option'); option.value = cat; option.textContent = cat; categorySelect.appendChild(option); }); };
        window.populatePlaylistOptions = () => { playlistOptionsContainer.innerHTML = ''; userPlaylists.forEach(pl => { playlistOptionsContainer.innerHTML += `<div class="playlist-option" onclick="selectPlaylist('${pl.name}', false)"><span>${pl.name}</span> <button class="thumb-btn" onclick="event.stopPropagation(); openPlaylistThumbnailPage(${pl.id}, '${pl.name}')">Thumbnail</button></div>`; }); playlistOptionsContainer.innerHTML += `<div class="playlist-option" onclick="selectPlaylist('Custom', true)"><span>-- Custom Playlist --</span></div>`; };
        window.openPlaylistThumbnailPage = (playlistId, playlistName) => { window.showPage('playlist-thumb-page'); };
        window.savePlaylistThumbnail = () => { alert(`Thumbnail saved! (Simulation)`); window.showPage('upload-page-3'); };
        window.togglePlaylistOptions = () => { const list = document.getElementById('playlist-options'); list.style.display = list.style.display === 'block' ? 'none' : 'block'; };
        
        window.selectPlaylist = (playlistName, isCustom) => {
            const customInputGroup = document.getElementById('custom-playlist-input-group');
            if (isCustom) {
                document.getElementById('selected-playlist-name').textContent = 'Enter Custom Name';
                customInputGroup.style.display = 'flex';
            } else {
                document.getElementById('selected-playlist-name').textContent = playlistName;
                customInputGroup.style.display = 'none';
            }
            window.togglePlaylistOptions(); // Hide dropdown after selection
        };
        
        window.saveCustomPlaylist = () => {
            const customName = document.getElementById('custom-playlist-input').value;
            if (customName.trim()) {
                alert(`Custom playlist "${customName}" saved! (Simulation)`);
                document.getElementById('selected-playlist-name').textContent = customName;
                document.getElementById('custom-playlist-input-group').style.display = 'none';
                document.getElementById('custom-playlist-input').value = '';
            } else {
                alert('Please enter a name for your custom playlist.');
            }
        };

        // --- ऐप को प्रारंभ करना ---
        document.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('appTheme') || 'default';
            window.applyTheme(savedTheme);
            
            // सभी सेटअप फंक्शन को कॉल करें
            window.populateAiCharPanel();
            window.populatePlaylistOptions();
            window.populateCategoryDropdown();
            window.changeLanguage('hi'); 
            window.changeGuidelineLanguage('hi');
            
            // पेमेंट कैलकुलेटर के लिए इवेंट लिस्टनर जोड़ें
            const durationInput = document.getElementById('video-duration');
            const sizeInput = document.getElementById('video-size');
            if (durationInput) durationInput.addEventListener('input', window.calculatePayment);
            if (sizeInput) sizeInput.addEventListener('input', window.calculatePayment);
            
            // होम पेज दिखाएँ
            window.showPage('home-page');
            
            // ऑडियो खत्म होने पर बटन को रीसेट करें
            storyAudio.onended = () => {
                storyPlayBtn.textContent = '▶️';
            };
        });

    </script>
</body>
</html>
